CREATE TABLE  "TYPES" 
   (	"TYPE_ID" NUMBER, 
	"NAME" VARCHAR2(200), 
	"SEATING_CAPACITY" NUMBER, 
	"CAPACITY" NUMBER, 
	"COST_PER_KM" NUMBER, 
	 CONSTRAINT "TYPES_PK" PRIMARY KEY ("TYPE_ID") ENABLE
   ) ;CREATE TABLE  "CARS" 
   (	"CAR_ID" NUMBER, 
	"REF_TYPE" NUMBER, 
	"GOV_NUMBER" VARCHAR2(30), 
	"RUNNING" NUMBER, 
	 CONSTRAINT "CARS_PK" PRIMARY KEY ("CAR_ID") ENABLE
   ) ;CREATE TABLE  "ORDERS" 
   (	"ORDER_ID" NUMBER, 
	"TIME_ORD" DATE, 
	"TIME_DEST" DATE, 
	"ADDR_DEP" VARCHAR2(2000), 
	"ADDR_DEST" VARCHAR2(2000), 
	"PASSENGER" NUMBER, 
	"STATUS" NUMBER, 
	"DIST_APPR" NUMBER, 
	"DIST_INFACT" NUMBER, 
	"COST" NUMBER, 
	 CONSTRAINT "ORDERS_PK" PRIMARY KEY ("ORDER_ID") ENABLE
   ) ;CREATE TABLE  "ORD_CAR" 
   (	"REF_ORDER" NUMBER, 
	"REF_CAR" NUMBER
   ) ;ALTER TABLE  "CARS" ADD CONSTRAINT "CARS_FK" FOREIGN KEY ("REF_TYPE")
	  REFERENCES  "TYPES" ("TYPE_ID") ENABLE;ALTER TABLE  "ORD_CAR" ADD CONSTRAINT "CAR_FK2" FOREIGN KEY ("REF_CAR")
	  REFERENCES  "CARS" ("CAR_ID") ENABLE;ALTER TABLE  "ORD_CAR" ADD CONSTRAINT "ORD_FK" FOREIGN KEY ("REF_ORDER")
	  REFERENCES  "ORDERS" ("ORDER_ID") ENABLE;
 CREATE SEQUENCE   "TYPES_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "ORDERS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ; CREATE SEQUENCE   "CARS_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE OR REPLACE TRIGGER  "BI_TYPES" 
  before insert on "TYPES"              
  for each row 
begin  
  if :NEW."TYPE_ID" is null then
    select "TYPES_SEQ".nextval into :NEW."TYPE_ID" from dual;
  end if;
end;
/
ALTER TRIGGER  "BI_TYPES" ENABLE;CREATE OR REPLACE TRIGGER  "BI_ORDERS" 
  before insert on "ORDERS"              
  for each row 
begin  
  if :NEW."ORDER_ID" is null then
    select "ORDERS_SEQ".nextval into :NEW."ORDER_ID" from dual;
  end if;
end;
/
ALTER TRIGGER  "BI_ORDERS" ENABLE;CREATE OR REPLACE TRIGGER  "BI_DEMO_USERS" 
BEFORE
insert on "DEMO_USERS"
for each row
begin
begin
  for c1 in (
    select DEMO_USERS_SEQ.nextval next_val
    from dual
  ) loop
    :new.USER_ID :=  c1.next_val;
    :new.admin_user := 'N';
    :new.created_on := sysdate;
  end loop;
end;
end;
/
ALTER TRIGGER  "BI_DEMO_USERS" ENABLE;CREATE OR REPLACE TRIGGER  "BI_CARS" 
  before insert on "CARS"               
  for each row  
begin   
  if :NEW."CAR_ID" is null then 
    select "CARS_SEQ".nextval into :NEW."CAR_ID" from dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_CARS" ENABLE;